<div class="container">
  <div *ngIf="salasanainfo" class="alert alert-success">
    <strong>Onnistui!</strong> Salasana vaihdettu
  </div>
  <div *ngIf="poistoinfo" class="alert alert-info">
    <strong>Käyttäjätunnus poistettu!</strong> Kirjaudu ulos ylälaidasta
  </div>
  <div *ngIf="error" class="alert alert-danger">
    <strong>Salasanan vaihto epäonnistui!</strong> Salasanat eivät täsmää
  </div>
  <div *ngIf="error1" class="alert alert-danger">
    <strong>Salasanan vaihto epäonnistui!</strong> Vanha ja uusi salasana eivät voi olla samoja
  </div>

  <h2>Hei käyttäjä, {{username}}</h2>
  <div class="d-flex mt-3 mb-3">Omissa tiedoissa voit vaihtaa suosikki sää- ja juna-asemia. Muuttaa salasanasi ja myös poistaa käyttäjätunnuksesi</div>

  <h4>Salasanan vaihto</h4>
  <form #f="ngForm" (ngSubmit)="salasanvaihto(f.value, f.valid)" novalidate>

    <div class="form-group">
      <label for="vanhasalasana">Vanha salasana:</label>
      <input #tunnus="ngModel" type="password" class="form-control" placeholder="Syötä vanha salasana" name="vanhasalasana" ngModel required required>
    </div>

    <div class="form-group">
      <label for="salasana">Uusi salasana:</label>
      <input #tunnus="ngModel" type="password" class="form-control" placeholder="Syötä uusi salasana" name="salasana" ngModel required required minlength="5">
      <div class="alert alert-danger" [hidden]="!f.form.hasError('minlength', 'salasana')">
        <strong>Varoitus!</strong> Salasana on liian lyhyt
      </div>
    </div>

    <div class="form-group">
      <label for="salasana2">Uusi salasana uudelleen:</label>
      <input #tunnus="ngModel" type="password" class="form-control" placeholder="Syötä uusi salasana uudelleen" name="salasana2" ngModel required required minlength="5">
      <div class="alert alert-danger" [hidden]="!f.form.hasError('minlength', 'salasana2')">
        <strong>Varoitus!</strong> Salasana on liian lyhyt
      </div>
    </div>

    <br />
    <div class="form-group">
      <!-- Lähetetään lomake eteenpäin -->
      <button type="submit" class="btn btn-success">Vaihda</button>
      <!-- Saadaan tyhjennettyä tiedot -->
      <button type="button" class="btn btn-danger" (click)=f.resetForm() (click)="virheidenPoisto()">Tyhjennä</button>
    </div>
  </form>


  <h4>Käyttäjätunnuksen poisto</h4>

  <button type="button" class="btn btn-danger" (click)="poistaTunnus()">Poista tunnus</button>

</div>