<div class="container">
  <div class="card">
    <div *ngIf="error1" class="alert alert-danger">
      <strong>Rekisteröinti epäonnistui!</strong> käyttäjätunnus käytössä tai
      virheellinen.
    </div>
    <div class="card">
      <h1>Rekisteröidy SääJuna -sovelluksen käyttäjäksi</h1>
      <p>
        Rekisteröinti mahdollistaa omien säähavaintojen ja juna-asemien
        tallennuksen suosikeiksi.
      </p>
    </div>
    <div *ngIf="error" class="alert alert-success">
      <strong>Rekisteröinti onnistui!</strong> Kirjaudu sisään
    </div>
    <form #f="ngForm" (ngSubmit)="onSubmit(f.value, f.valid)" novalidate>
      <div class="card">
        <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
          <ngb-panel title="Käyttäjätunnus ja salasana">
            <ng-template ngbPanelContent>
              <div class="form-group">
                <!-- <label for="tunnus">Tunnus:</label> -->
                <input
                  #tunnus="ngModel"
                  type="text"
                  class="form-control"
                  placeholder="Anna käyttäjätunnus"
                  name="tunnus"
                  ngModel
                  required
                />
                <div
                  class="alert alert-danger"
                  [hidden]="
                    !f.form.hasError('required', 'tunnus') || f.pristine
                  "
                >
                  <strong>Varoitus!</strong> Nimi vaaditaan
                </div>
              </div>
              <div class="form-group">
                <div>
                  <!-- <label for="salasana">Salasana:</label> -->
                  <input
                    #salasana="ngModel"
                    type="password"
                    class="form-control"
                    placeholder="Anna salasana"
                    name="salasana"
                    ngModel
                    required
                    minlength="5"
                  />
                  <div
                    class="alert alert-danger"
                    [hidden]="
                      !f.form.hasError('required', 'salasana') || f.pristine
                    "
                  >
                    <strong>Varoitus!</strong> Salasana vaaditaan
                  </div>
                  <div
                    class="alert alert-danger"
                    [hidden]="!f.form.hasError('minlength', 'salasana')"
                  >
                    <strong>Varoitus!</strong> Salasanasi on liian lyhyt
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-panel>
          <ngb-panel id="static-2" title="Rautatieasemat - suosikit">
            <ng-template ngbPanelContent>
              <div class="form-group">
                <p>Tallenna suosikkirautatieasemasi</p>
                <input
                  type="text"
                  class="form-control"
                  id="favoritesJuna1"
                  name="favoritesJuna1"
                  placeholder="Anna suosikkirautatieasema"
                  [ngbTypeahead]="searchRautatie1"
                  [inputFormatter]="formatterRauta"
                  [resultFormatter]="formatterRauta"
                  [editable]="false"
                  ngModel
                  required
                />

                <input
                  type="text"
                  class="form-control"
                  id="favoritesJuna2"
                  name="favoritesJuna2"
                  placeholder="Anna suosikkirautatieasema"
                  [ngbTypeahead]="searchRautatie2"
                  [inputFormatter]="formatterRauta"
                  [resultFormatter]="formatterRauta"
                  [editable]="false"
                  ngModel
                  required
                />
              </div>
            </ng-template>
          </ngb-panel>
          <ngb-panel id="static-3" title="Säähavaintoasemat - suosikit">
            <ng-template ngbPanelContent>
              <div class="form-group">
                <p>Tallenna haluamasi säähavaintoasema suosikiksi</p>
                <input
                  type="text"
                  class="form-control"
                  id="favoritesSaa1"
                  name="favoritesSaa1"
                  placeholder="Anna suosikkisäähavaintoasema"
                  [ngbTypeahead]="searchSaa1"
                  [inputFormatter]="formatterSaa"
                  [resultFormatter]="formatterSaa"
                  [editable]="false"
                  ngModel
                  required
                />

                <input
                  type="text"
                  class="form-control"
                  id="favoritesSaa2"
                  name="favoritesSaa2"
                  placeholder="Anna suosikkisäähavaintoasema"
                  [ngbTypeahead]="searchSaa2"
                  [inputFormatter]="formatterSaa"
                  [resultFormatter]="formatterSaa"
                  [editable]="false"
                  ngModel
                  required
                />
              </div>
            </ng-template>
          </ngb-panel>
          <ngb-panel id="static-4" title="Tallenna">
            <ng-template ngbPanelContent>
              <p>
                Kun tiedot on syötetty, voit rekisteröityä
                Rekisteröidy-painikkeella. Lomakkeen tiedot voit tyhjentää
                Tyhjennä-painikkeella.
              </p>
              <div class="form-group">
                <button type="submit" class="btn btn-success">
                  Rekisteröidy
                </button>

                <button
                  type="button"
                  class="btn btn-danger"
                  (click)="f.resetForm()"
                >
                  Tyhjennä
                </button>
              </div>
            </ng-template>
          </ngb-panel>

          ></ngb-accordion
        >
      </div>
    </form>
  </div>
</div>
